<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Monte seu A√ßa√≠ - Freeacai</title>
<style>
  body {
    margin:0;
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg,#7b1fa2,#512da8);
    color:#222;
    padding:28px 16px;
    display:flex;
    justify-content:center;
  }

  .app {
    width:100%;
    max-width:940px;
    background:#fff;
    border-radius:20px;
    box-shadow: 0 12px 40px rgba(0,0,0,0.28);
    padding:22px;
    display:grid;
    grid-template-columns: 1fr 360px;
    gap:20px;
  }

  header {
    grid-column:1/-1;
    display:flex;
    gap:16px;
    align-items:center;
    margin-bottom:16px;
  }
  .logo img {width:68px;height:68px;border-radius:12px;object-fit:cover}

  .btn-order {
    margin-top:10px;
    width:100%;
    padding:12px;
    border-radius:12px;
    background: linear-gradient(90deg,#ff9800,#f57c00);
    color:#fff;
    font-weight:700;
    border:none;
    cursor:pointer;
  }

  .summary {
    background:#fafafa;
    border-radius:14px;
    padding:16px;
    box-shadow:0 8px 30px rgba(0,0,0,0.08);
    position:sticky;
    top:20px;
  }
  .summary h3 {margin:0 0 12px;color:#3b115b}
  .pedido-item {background:#fff;padding:10px;border-radius:10px;margin-bottom:10px;box-shadow:0 2px 8px rgba(0,0,0,0.05);}
  .actions button{margin-right:6px;padding:4px 8px;border:none;border-radius:6px;cursor:pointer;background:#eee}
  .price {font-size:1.4rem;font-weight:700;color:#2b0b3b}

  /* Modal */
  .modal {
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.6);
    justify-content:center;
    align-items:center;
    z-index:999;
  }
  .modal-content {
    background:#fff;
    padding:20px;
    border-radius:16px;
    width:90%;
    max-width:400px;
    box-shadow:0 8px 30px rgba(0,0,0,0.25);
  }

  @media(max-width:880px){
    .app{grid-template-columns:1fr}
  }
</style>
</head>
<body>

<div class="app">
  <header>
    <div class="logo"><img src="Logo.jpg" alt="Logo Freeacai"></div>
    <div>
      <h1>Freeacai</h1>
      <p>üìç Rua Perimetral, Quadra A14, Casa 02, Vila Para√≠so ‚Äì Caxias-MA</p>
      <p>üïí Dom a S√°b ‚Äî 15h √†s 22h</p>
      <p style="color:green;font-weight:600;">üöö Entrega gr√°tis no bairro Vila Para√≠so!</p>
    </div>
  </header>

  <div class="left">
    <button class="btn-order" onclick="abrirModalAcai()">‚ûï Adicionar A√ßa√≠</button>
  </div>

  <aside class="right">
    <div class="summary">
      <h3>Resumo do pedido</h3>
      <div id="lista-pedidos"></div>

      <div class="line"><span class="small">Endere√ßo</span><br><span id="res-endereco">N√£o informado</span></div>
      <button class="btn-order" onclick="editarEndereco()">Editar Endere√ßo</button>

      <div class="line" style="margin-top:14px;">
        <span class="small">Total</span><br><span class="price" id="res-preco">R$ 0,00</span>
      </div>

      <button class="btn-order" onclick="finalizarPedido()">Enviar pedido pelo WhatsApp</button>
    </div>
  </aside>
</div>

<!-- Modal Montar A√ßa√≠ -->
<div class="modal" id="modalAcai">
  <div class="modal-content">
    <h3>Monte seu A√ßa√≠</h3>

    <div>
      <label><b>Tamanho:</b></label><br>
      <select id="inputTamanho">
        <option value="200 ml - R$ 8,00" data-price="8">200 ml - R$ 8,00</option>
        <option value="300 ml - R$ 10,00" data-price="10">300 ml - R$ 10,00</option>
        <option value="400 ml - R$ 12,00" data-price="12">400 ml - R$ 12,00</option>
        <option value="500 ml - R$ 14,00" data-price="14">500 ml - R$ 14,00</option>
      </select>
    </div>

    <div>
      <label><b>Fruta:</b></label><br>
      <label><input type="radio" name="fruta" value="Uva" checked> Uva</label>
      <label><input type="radio" name="fruta" value="Banana"> Banana</label>
      <label><input type="radio" name="fruta" value="Morango"> Morango</label>
    </div>

    <div>
      <label><b>Adicionais:</b></label><br>
      <label><input type="checkbox" value="Leite em p√≥"> Leite em p√≥</label>
      <label><input type="checkbox" value="Castanhas"> Castanhas</label>
      <label><input type="checkbox" value="Leite condensado"> Leite condensado</label>
      <label><input type="checkbox" value="Pa√ßoca"> Pa√ßoca</label>
      <label><input type="checkbox" value="Granola"> Granola</label>
      <label><input type="checkbox" value="Flocos de arroz"> Flocos de arroz</label>
      <label><input type="checkbox" value="M&M colorido"> M&M colorido</label>
      <label><input type="checkbox" value="Amendoim"> Amendoim</label>
    </div>

    <div>
      <label><b>Pagamento:</b></label><br>
      <label><input type="radio" name="pagamento" value="Pix" checked> Pix</label>
      <label><input type="radio" name="pagamento" value="Cart√£o de cr√©dito"> Cart√£o de cr√©dito</label>
      <label><input type="radio" name="pagamento" value="Esp√©cie"> Esp√©cie</label>
    </div>

    <div style="margin-top:12px;text-align:right;">
      <button onclick="salvarAcai()" class="btn-order">Salvar</button>
      <button onclick="fecharModalAcai()" style="margin-left:6px;">Cancelar</button>
    </div>
  </div>
</div>

<!-- Modal Endere√ßo -->
<div class="modal" id="modalEndereco">
  <div class="modal-content">
    <h3>Endere√ßo de entrega</h3>
    <textarea id="inputEndereco" rows="3" style="width:100%;padding:10px;border-radius:10px;border:1px solid #ccc;"></textarea>
    <div style="margin-top:10px;text-align:right;">
      <button onclick="salvarEndereco()" class="btn-order">Salvar</button>
    </div>
  </div>
</div>

<script>
let pedidos = JSON.parse(localStorage.getItem("pedidos")) || [];
let enderecoEntrega = localStorage.getItem("enderecoEntrega") || "";

// --- Modal controle ---
function abrirModalAcai(){document.getElementById("modalAcai").style.display="flex";}
function fecharModalAcai(){document.getElementById("modalAcai").style.display="none";}

// --- Salvar a√ßa√≠ ---
function salvarAcai(){
  const select = document.getElementById("inputTamanho");
  const tamanho = select.value;
  const preco = parseFloat(select.selectedOptions[0].dataset.price);

  const fruta = document.querySelector('input[name="fruta"]:checked').value;
  const adicionais = Array.from(document.querySelectorAll('#modalAcai input[type="checkbox"]:checked')).map(i=>i.value);
  const pagamento = document.querySelector('input[name="pagamento"]:checked').value;

  pedidos.push({tamanho, preco, fruta, adicionais, pagamento});
  fecharModalAcai();
  atualizarResumo();
}

// --- Editar / Excluir / Duplicar ---
function removerPedido(i){ pedidos.splice(i,1); atualizarResumo();}
function editarPedido(i){
  const p=pedidos[i];
  abrirModalAcai();
  document.getElementById("inputTamanho").value=p.tamanho;
  document.querySelectorAll('#modalAcai input[name="fruta"]').forEach(r=>r.checked=(r.value===p.fruta));
  document.querySelectorAll('#modalAcai input[type="checkbox"]').forEach(c=>c.checked=p.adicionais.includes(c.value));
  document.querySelectorAll('#modalAcai input[name="pagamento"]').forEach(r=>r.checked=(r.value===p.pagamento));
  pedidos.splice(i,1);
}
function duplicarPedido(i){ pedidos.push({...pedidos[i]}); atualizarResumo();}

// --- Endere√ßo ---
function editarEndereco(){
  document.getElementById("inputEndereco").value=enderecoEntrega;
  document.getElementById("modalEndereco").style.display="flex";
}
function salvarEndereco(){
  enderecoEntrega=document.getElementById("inputEndereco").value.trim();
  document.getElementById("modalEndereco").style.display="none";
  atualizarResumo();
}

// --- Atualizar Resumo ---
function atualizarResumo(){
  const lista=document.getElementById("lista-pedidos");
  lista.innerHTML="";
  let total=0;

  pedidos.forEach((p,i)=>{
    total+=p.preco;
    const div=document.createElement("div");
    div.className="pedido-item";
    div.innerHTML=`
      <p><b>${p.tamanho}</b> - ${p.fruta}<br>
      Adicionais: ${p.adicionais.length?p.adicionais.join(", "):"Nenhum"}<br>
      Pagamento: ${p.pagamento}</p>
      <div class="actions">
        <button onclick="duplicarPedido(${i})">Duplicar</button>
        <button onclick="editarPedido(${i})">Editar</button>
        <button onclick="removerPedido(${i})">Excluir</button>
      </div>
    `;
    lista.appendChild(div);
  });

  document.getElementById("res-preco").innerText="R$ "+total.toFixed(2);
  document.getElementById("res-endereco").innerText=enderecoEntrega||"N√£o informado";

  localStorage.setItem("pedidos",JSON.stringify(pedidos));
  localStorage.setItem("enderecoEntrega",enderecoEntrega);
}

// --- Finalizar ---
function finalizarPedido(){
  if(pedidos.length===0){alert("Adicione pelo menos um a√ßa√≠!");return;}
  let mensagem=pedidos.map((p,i)=>
    `üçß *A√ßa√≠ ${i+1}*\n- Tamanho: ${p.tamanho}\n- Fruta: ${p.fruta}\n- Adicionais: ${p.adicionais.length?p.adicionais.join(", "):"Nenhum"}\n- Pagamento: ${p.pagamento}\n`
  ).join("\n");
  const textoFinal="Ol√°, gostaria de fazer um pedido:\n\n"+mensagem+`\nüìç *Endere√ßo:* ${enderecoEntrega||"N√£o informado"}\nüí∞ *Total:* R$ ${pedidos.reduce((a,p)=>a+p.preco,0).toFixed(2)}`;
  const numero="5599984001466";
  window.open("https://wa.me/"+numero+"?text="+encodeURIComponent(textoFinal),"_blank");
}

document.addEventListener("DOMContentLoaded",atualizarResumo);
</script>
</body>
</html>