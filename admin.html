<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Admin - Controle de Pontos</title>
<style>
    body {
        font-family: Arial, sans-serif;
        padding: 20px;
    }
    input {
        width: 80px;
        margin: 5px;
    }
    button {
        margin: 5px;
        padding: 5px 10px;
    }
    #statusTelao {
        font-size: 20px;
        margin-top: 20px;
        font-weight: bold;
    }
</style>
</head>
<body>

<h2>Painel do Administrador</h2>

<h3>PontuaÃ§Ã£o das Equipes</h3>

<label>Equipe 1: </label>
<input type="number" id="e1" value="0">
<button onclick="salvar(1)">Salvar</button>
<br>

<label>Equipe 2: </label>
<input type="number" id="e2" value="0">
<button onclick="salvar(2)">Salvar</button>
<br>

<label>Equipe 3: </label>
<input type="number" id="e3" value="0">
<button onclick="salvar(3)">Salvar</button>
<br>

<label>Equipe 4: </label>
<input type="number" id="e4" value="0">
<button onclick="salvar(4)">Salvar</button>
<br>

<p id="statusTelao">Status do telÃ£o: <strong>--</strong></p>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js";
import { getDatabase, ref, set, onValue } 
from "https://www.gstatic.com/firebasejs/10.0.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyA7YV4gp_vbnkbirg5ypG0Y8yASlNrfFNY",
  authDomain: "gincana-placar.firebaseapp.com",
  projectId: "gincana-placar",
  storageBucket: "gincana-placar.firebasestorage.app",
  messagingSenderId: "846259743430",
  appId: "1:846259743430:web:b9d1781e4a4ad6ab4145c7",
  measurementId: "G-3W641L1SJV"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// FunÃ§Ã£o salvar pontuaÃ§Ã£o
function salvar(eq) {
    const valor = document.getElementById("e" + eq).value;
    set(ref(db, "pontos/equipe" + eq), Number(valor));
}

// Expor funÃ§Ã£o para o HTML
window.salvar = salvar;

// Monitorar status do telÃ£o
onValue(ref(db, "status/telao"), (snap) => {
    const status = snap.val();
    const el = document.getElementById("statusTelao");

    if (status === "online") {
        el.innerHTML = `Status do telÃ£o: <strong style="color: green;">ðŸŸ¢ Conectado</strong>`;
    } else {
        el.innerHTML = `Status do telÃ£o: <strong style="color: red;">ðŸ”´ Desconectado</strong>`;
    }
});
</script>

</body>
</html>